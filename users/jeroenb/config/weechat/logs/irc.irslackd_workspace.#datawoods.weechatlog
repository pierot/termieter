2020-04-04 17:30:14	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-04 17:30:14	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-04-06 20:05:26	stephan	@pieterm @jeroenb We hebben voor het weekeinde een 'klacht' gehad van Amazon i.v.m. een instantie van ons. De instantie zou deel uitmaken van een botnet, met activiteiten via poort 25. De instantie was een eerste poging van mij om met Ansible te werken is ondertussen uitgezet en verwijderd. De instantie was toch niet belangrijk. Ik gebruikte ze toch enkel om te oefenen met Ansible. Wel is het zo dat de instantie door mij was opgezet aan de hand van jullie playbook én ook gebruik maakte van onze huidige standaard security group. Ik wou daarom toch even vragen of jullie een idee hebben wat er hier zou kunnen hebben gespeeld? Want misschien zijn er op die manier ook wel veiligheidsrisico's bij de nu nog functionerende DB-instanties die op dezelfde wijze zijn uitgerold én beveiligd.
2020-04-07 11:54:52	 *	stephan edits: @pieterm @jeroenb We hebben voor het weekeinde een 'klacht' gehad van Amazon i.v.m. een instantie van ons. De instantie zou deel uitmaken van een botnet, met activiteiten via poort 25. De instantie was een eerste poging van mij om met Ansible te werken en is ondertussen uitgezet en verwijderd. De instantie was toch niet belangrijk. Wel is het zo dat de instantie door mij was opgezet aan de hand van jullie playbook én ook gebruik maakte van onze huidige standaard security group. Ik wou daarom toch even vragen of jullie een idee hebben wat er hier zou kunnen hebben gespeeld? Want misschien zijn er op die manier ook wel veiligheidsrisico's bij de nu nog functionerende DB-instanties die op dezelfde wijze zijn uitgerold én beveiligd.
2020-04-07 12:04:34	jeroenb	Poort 25 dient voor smtp, die staat bijna altijd wel open. Voor ons mag die wellicht dicht, want we versturen voor TenderWolf zelf helemaal geen e-mails, dat gaat via Mailgun. Dus je kan die zeker sluiten.
2020-04-07 12:05:18	 *	jeroenb edits: Poort 25 dient voor smtp, die staat bijna altijd wel open. Voor ons mag die wellicht dicht, want we versturen voor TenderWolf zelf helemaal geen e-mails, dat gaat via Mailgun. Tenzij wel voor logwacht, die gebruikt Postfix.
2020-04-07 12:05:26	 *	jeroenb edits: Poort 25 dient voor smtp, die staat bijna altijd wel open. Voor ons mag die wellicht dicht, want we versturen voor TenderWolf zelf helemaal geen e-mails, dat gaat via Mailgun. Tenzij wel voor logwacht, die gebruikt Postfix. We bekijken het.
2020-04-07 13:46:04	pieterm	@stephan Heb je meer info over botnet bericht van Amazon? Iets van technische houvast? Zoals Jeroen als zei is 25 de smtp poort van Postfix. Die staat echter niet open naar buiten toe, enkel 3306, 443 en 80 staan open op server niveau. Op firewall niveau staat 3306 zelfs niet open dacht ik.
2020-04-07 13:58:42	--	irc: disconnected from server
2020-04-07 14:19:15	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-07 14:19:15	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-04-07 15:38:25	stephan	@pieterm Ik heb erg weinig informatie gekregen van AWS. Ik weet alleen dat AWS zei dat de instantie ingeschakeld is in een botnet. Wel wordt er naar mijn idee impliciet naar het Trojaans paard 'Gamut' verwezen in de enige technische lijn info die ik meekreeg: `52.48.68.161 2020-03-04 07:11:00 Gamut 25 Sinkhole` . Dit kan misschien wel het gebruik van poort 25 verklaren?
2020-04-07 15:38:25	stephan	Wat ik me dan weer afvraag op basis van jullie input:
2020-04-07 15:38:25	stephan	1. staat poort 25 dan default open in onze instanties, weliswaar niet voor de buitenwereld, maar wel om zaken uit te zenden? Of zetten jullie die enkel open op elke instantie waarop Postfix (en dus Logwatch) komt te staan?
2020-04-07 15:38:25	stephan	2. Jullie zeggen dat de poorten 3306, 443 en 80 (bij jullie) wel open staan op serverniveau. Waar is dat dan voor, en in welke richting(en), zeker als bijvoorbeeld 3306 niet open zou staan op firewall niveau?
2020-04-07 15:38:25	stephan	Voor de volledigheid: ik ben de security groups nog een keer aan het nakijken na de waarschuwing van AWS en ik zou deze snel nog wat willen optimaliseren, vandaar de vragen.
2020-04-07 15:38:40	 *	stephan edits: @pieterm Ik heb erg weinig informatie gekregen van AWS. Ik weet alleen dat AWS zei dat de instantie ingeschakeld is in een botnet. Wel wordt er naar mijn idee impliciet naar het Trojaans paard 'Gamut' verwezen in de enige technische lijn info die ik meekreeg: `52.48.68.161 2020-03-04 07:11:00 Gamut 25 Sinkhole` . Dit kan misschien wel het gebruik van poort 25 verklaren?
2020-04-07 15:38:40	 *	stephan Wat ik me dan weer afvraag op basis van jullie input:
2020-04-07 15:38:40	 *	stephan 1. staat poort 25 dan default open in onze instanties, weliswaar niet voor de buitenwereld, maar wel om zaken uit te zenden? Of zetten jullie die enkel open op elke instantie waarop Postfix (en dus Logwatch) komt te staan?
2020-04-07 15:38:40	 *	stephan 2. Jullie zeggen dat de poorten 3306, 443 en 80 (bij jullie) wel open staan op serverniveau. Waar is dat dan voor, en in welke richting(en), zeker als bijvoorbeeld 3306 niet open zou staan op firewall niveau?
2020-04-07 15:38:40	 *	stephan Voor de volledigheid: ik ben de security groups nog een keer aan het nakijken na de waarschuwing van AWS en ik zou deze snel nog wat willen optimaliseren, vandaar de vragen.
2020-04-07 15:44:24	pieterm	443 en 80 zijn de https en http poort, bedoeld voor web verkeer
2020-04-07 15:44:24	pieterm	3306 is de mysql poort, die staat open om extern aan de database te kunnen
2020-04-07 15:44:24	pieterm	poort 25 staat intern open, dat wil zeggen dat je enkel vanop de instantie zelf aan die eigen poort kan
2020-04-07 15:45:20	pieterm	Gamut stuurt blijkbaar SPAM uit, dan is het logisch dat dit vanop poort 25 vertrekt, maar dat is dus uitgaand verkeerd, niet inkomend. Dus is de vraag hoe die Gamut daarop komt?
2020-04-07 15:46:16	jeroenb	Mss nog ten tijde van die hack poging, via die webtool die jullie hadden gebruikt (de naam ontglipt mij nu)? Of was dat op een andere instantie?
2020-04-07 15:46:29	pieterm	(andere instantie)
2020-04-08 07:49:52	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-08 07:49:52	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-04-15 15:14:44	--	irc: disconnected from server
2020-04-16 08:52:40	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-16 08:52:40	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-04-16 10:43:27	pieterjan	De Confederatie Bouw heeft een nieuwe IT-manager die responsief is en een nieuwe API die goed opgezet lijkt.
2020-04-16 10:43:32	pieterjan	We kregen dit antwoord:
2020-04-16 10:43:32	pieterjan	> Wij kunnen bevestigen dat het bedrijf <http://bolster.be> (bolster.be) met lidnummer 123957) Lid is van Confederatie Bouw.
2020-04-16 10:43:32	pieterjan	>
2020-04-16 10:43:32	pieterjan	> Onze nieuwe API om na te gaan of een onderneming al dan niet lid is van onze onderneming kan je vinden op
2020-04-16 10:43:32	pieterjan	> https://services.confederationconstruction.be/website/v1/swagger/index.html
2020-04-16 10:43:32	pieterjan	>
2020-04-16 10:43:32	pieterjan	> */Members/{Number}/IsMember*
2020-04-16 10:43:32	pieterjan	>
2020-04-16 10:43:32	pieterjan	> Het volstaat om het lidnummer in te geven en vervolgens zal je true of false krijgen als antwoord op de vraag of de onderneming lid is bij Confederatie Bouw.
2020-04-16 10:43:32	pieterjan	>
2020-04-16 10:43:32	pieterjan	> Jullie gebruiker voor deze API is Tenderwolf.
2020-04-16 10:43:32	pieterjan	> Het passwoord zal naar je Gsm verzonden worden.
2020-04-16 10:43:48	pieterjan	Van zodra we het passwoord hebben, geven we het door.
2020-04-16 10:44:06	pieterjan	De oude webservice is verbonden met een database die niet meer up to date wordt gehouden
2020-04-16 10:44:25	pieterjan	Kunnen jullie deze nieuwe API integreren?
2020-04-16 10:44:52	pieterjan	Verder: om <http://bolster.be> (bolster.be) toch te laten registreren, kan ik hun lidnummer gewoon toevoegen in jullie database bij `organisation_codes`?
2020-04-16 11:34:18	pieterjan	Met die nieuwe API zouden we ook de ingewikkelde autocomplete-flow laten vallen en vervangen door de NAV-flow
2020-04-16 11:58:38	jeroenb	@pieterjan neen, het lidnummer toevoegen zal denk ik niet volstaan omdat de login naar de (oude) api nog steeds niet zal werken. Het lijkt mij dan beter dat je hem als gewone gebruiker laat registeren en we hem nadien dan onder conf bouw stoppen. Wat de nieuwe API betreft, we kunnen dat wel implementeren alleen kunnen we dat niet op korte termijn, in functie van ander werk dat nu op onze plank ligt. We zouden het kunnen opnemen in de week van 11 april. We kunnen dan samen ook kijken welke stappen er allemaal aangepast dienen te worden in de flow om het werkende te krijgen.
2020-04-16 11:58:38	jeroenb	Laat maar weten wat jullie beslissen. En indien je bolster gewoon laat registeren, laat maar weten wanneer die op confbouw mag gezet worden. Dat lijkt ons in dit geval de meest vlotte manier om de gebruiker op het platform te krijgen.
2020-04-16 12:03:20	pieterjan	Bedoel je de week van 11 mei?
2020-04-16 12:03:37	jeroenb	Oei, amai, jazeker
2020-04-16 12:03:43	jeroenb	sorry :slightly_smiling_face: het tijdsbesef was even zoek.
2020-04-16 12:04:02	jeroenb	> back-to-the-future
2020-04-16 12:04:02	jeroenb	> https://giphy.com/gifs/tcm-back-to-the-future-michael-j-fox-3o7aCRBQC8u5GaW092
2020-04-16 12:04:02	jeroenb	> giphy: https://giphy.com/gifs/tcm-back-to-the-future-michael-j-fox-3o7aCRBQC8u5GaW092
2020-04-16 12:04:02	jeroenb	> https://media2.giphy.com/media/3o7aCRBQC8u5GaW092/giphy-downsized.gif?cid=6104955e52fcd181065494cfe575a6c03b3c36c9e3d35258&rid=giphy-downsized.gif
2020-04-16 12:04:17	 *	pieterjan reacts @ jeroenb :smile:
2020-04-16 15:18:30	pieterjan	Bolster is geregistreerd (client_id 1747). Kan ik die zelf op Confederatie Bouw zetten door gewoon organisation aan te passen in de clients tabel? Het prijsplan is nu Professional en daar is geen Confederatie Bouw variant meer van.
2020-04-16 16:02:44	pieterm	Op welk prijsplan moet die dan best komen?
2020-04-16 16:15:08	pieterjan	Professional is goed, het is een rpoefperiode
2020-04-16 16:44:29	pieterjan	@jeroenb Ik heb een kaartje aangemaakt voor de nieuwe Confederatie Bouw API, neem het maar op wanneer het jullie past.
2020-04-16 16:44:47	 *	pieterjan edits: @jeroenb Ik heb een kaartje aangemaakt voor de nieuwe Confederatie Bouw API, neem het maar op wanneer het jullie past. Week van 11 mei is goed.
2020-04-16 16:45:08	pieterjan	@pieterm Enkel de organisatie moet veranderen, naar Confederatie Bouw
2020-04-17 07:58:48	--	irc: disconnected from server
2020-04-17 08:01:20	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-17 08:01:20	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-04-22 14:33:53	pieterjan	Een gebruiker heeft ons een tijdje geleden een probleem gemeld met onze SPF records. Ik weet niet zo heel goed wat dit is, maar misschien geraken jullie uit aan de volgende berichten van de gebruiker en het MailGun Support Team:
2020-04-22 14:33:53	pieterjan	De gebruiker:
2020-04-22 14:33:53	pieterjan	> Recently we've enabled some security settings in our MTAs that prevents the company from security risks. I've been checking the e-mails sent from @tenderwolf.com and I've found that there is a SPF complaint because of duplicated SPF records.
2020-04-22 14:33:53	pieterjan	>
2020-04-22 14:33:53	pieterjan	> This is the message in our logs:
2020-04-22 14:33:53	pieterjan	> MessageSPF=PERM-ERROR: (envelope from: bounce+9a7b93.2f5bb-brussels.tenders=roche.com@tenderwolf.com) the SPF record for <http://tenderwolf.com> (tenderwolf.com) is invalid
2020-04-22 14:33:53	pieterjan	>
2020-04-22 14:33:53	pieterjan	> This domain has set up with two different SPF records as you can see in the attachment. For that reason our MTAs are sending the e-mails to the quarantine in order to avoid mail security risk (spoofing).
2020-04-22 14:33:53	pieterjan	>
2020-04-22 14:33:53	pieterjan	> To solve this issue, I'm afraid we cannot do anything to modify this record as this is something that only the sender can do so, please, May I ask you to send that information to the sender in order to contact with their IT team and modify the SPF? This will solve the issue.
2020-04-22 14:33:53	pieterjan	MailGun Support:
2020-04-22 14:33:53	pieterjan	> Looking at your domains TXT records you do have 2 separate records as shown below. You would need to combine the 2 SPF records and edit them within your DNS host.
2020-04-22 14:33:53	pieterjan	>
2020-04-22 14:33:53	pieterjan	> zarek$ dig TXT <http://tenderwolf.com> (tenderwolf.com) +short
2020-04-22 14:33:53	pieterjan	> _**"v=spf1 include:<http://mailgun.org> (mailgun.org) ~all"**_
2020-04-22 14:33:53	pieterjan	> "ca3-eeb7eafd65a9477da52a9bae563686ef"
2020-04-22 14:33:53	pieterjan	> _**"v=spf1 include:<http://spf.mandrillapp.com> (spf.mandrillapp.com) ?all"**_
2020-04-22 14:33:53	pieterjan	> "google-site-verification=RQE7-tdK8quQ6nvr7oES-V0sRA1qqJQsEJi8u4GgvuA"
2020-04-22 14:33:53	pieterjan	> "google-site-verification=up2g3HgtITHKEmBNnMGpyXaFbm5ZiIJ6FoeQj-0coIs"
2020-04-23 16:39:28	pieterjan	Hebben jullie dit al kunnen bekijken?
2020-04-24 09:03:26	jeroenb	Neen nog niet sorry, ik bekijk het deze namiddag met Pieter. Wellicht is het een aanpassing in Cloudflare. Ik zie daar die twee SPF records staan, maar ben niet zeker welke van de twee we dan eigenlijk willen behouden. Bij mailgun spreken ze over combineren maar daarvan weet ik nog niet meteen goed hoe dat zit.
2020-04-24 09:04:21	pieterjan	Ok, bedankt. Ik weet zelf ook niet zo goed wat het is. Misschien moet ik er mij eens over inlezen.
2020-04-24 09:05:45	jeroenb	Ja die SPF is een record om aan te geven aan de eindgebruiker wie er voor je domein (<http://tenderwolf.com> (tenderwolf.com)) daadwerkelijk je toestemming geeft om e-mails te versturen (<http://mailgun.com> (mailgun.com))
2020-04-24 09:06:36	jeroenb	Ah w8 eens… die mandrillapp dat is denk ik van vroeger…. Soit dat ga ik dus met Pieter bespreken :slightly_smiling_face: dat ik niet meer kwaad dan goed doe.
2020-04-24 14:05:05	pieterm	@pieterjan SPF records zijn in orde. Het is ook nieuw voor ons dat die je dan moet mergen ipv 2 records te plaatsen.
2020-04-24 14:05:27	pieterjan	Alright, super, bedankt
2020-04-28 09:07:19	--	irc: disconnected from server
2020-04-28 09:57:51	-->	jeroenb (jeroenb) has joined #datawoods
2020-04-28 09:57:51	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-05-18 08:13:24	-->	jeroenb (jeroenb) has joined #datawoods
2020-05-18 08:13:24	--	Topic for #datawoods is "Tenderwolf! Roooooaaaarr!"
2020-05-19 09:39:17	pieterjan	Over dit kaartje: https://trello.com/c/AqKpZ22n/1790-probleem-met-updatemail-van-agidens-clientid-1464
2020-05-19 09:39:18	pieterjan	Is het niet zo dat we gewoon een limiet van 100 publicaties per updatemail hebben?
